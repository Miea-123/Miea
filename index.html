<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å¤šäº§å“ç›®å½•å¯¼èˆª</title>
  <style>
    :root {
      /* åŸºç¡€è‰²æ¿ */
      --rose-501: #3fcaf4; --pink-501: #48b3ec;
      --rose-500:#f43f5e; --pink-500:#ec4899;
      --sky-500:#0ea5e9; --indigo-600:#4f46e5;
      --emerald-500:#10b981; --teal-500:#14b8a6;
      --violet-500:#8b5cf6; --fuchsia-500:#d946ef;
      --amber-500:#f59e0b; --yellow-400:#facc15;
      --muted:#6b7280; --surface:#ffffff; --ring:#e5e7eb; --card-shadow:0 8px 24px rgba(0,0,0,.06);
    }

    body{margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#111827; background:#f9fafb;}
    .page{min-height:100%; padding:24px;}
    .container{max-width:1100px;margin:0 auto;}

    .header{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-bottom:18px}
    .title{font-weight:800;letter-spacing:-.02em;font-size:28px}
    .subtitle{color:var(--muted);font-size:14px;margin-top:4px}

    .toolbar{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0 18px}
    .search{position:relative;flex:1;min-width:260px}
    .search input{width:100%;box-sizing:border-box;padding:10px 12px 10px 38px;border-radius:14px;border:1px solid #e5e7eb;outline:none}
    .search .icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:16px;color:var(--muted)}

    .filters{display:flex;gap:8px;flex-wrap:wrap}
    .chip{padding:8px 12px;border-radius:999px;border:1px solid #e5e7eb;background:#f8fafc;color:#111827;cursor:pointer;font-size:13px}
    .chip.active{color:#fff; border-color:transparent}
    .chip[data-group="å…¨éƒ¨"].active{background:linear-gradient(90deg,var(--rose-501),var(--pink-501));}
    .chip[data-group="è¿œå¤§å¤©æ´¥"].active{background:linear-gradient(90deg,var(--rose-500),var(--pink-500));}
    .chip[data-group="å¿ƒè¡€ç®¡ç»„"].active{background:linear-gradient(90deg,var(--sky-500),var(--indigo-600));}
    .chip[data-group="æ€¥æ•‘ç»„"].active{background:linear-gradient(90deg,var(--emerald-500),var(--teal-500));}
    .chip[data-group="ç½•è§ç—…ç»„"].active{background:linear-gradient(90deg,var(--violet-500),var(--fuchsia-500));}
    .chip[data-group="æ™®è¯ç»„"].active {background: linear-gradient(90deg, var(--amber-500), var(--yellow-400));}

    .grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:16px}
    @media (min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (min-width:960px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media (min-width:1200px){.grid{grid-template-columns:repeat(4,1fr)}}

    .card{background:var(--surface);border-radius:18px;box-shadow:var(--card-shadow);border:1px solid var(--ring);padding:14px 14px 12px;transition:transform .15s ease, box-shadow .2s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 10px 28px rgba(0,0,0,.08)}
    .card-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .card-title{display:flex;align-items:center;gap:10px;font-weight:700}

    /* è¯ç‰‡å¤–è§‚é€šç”¨æ ·å¼ */
    .pill{display:inline-flex;align-items:center;justify-content:center;width:48px;height:24px;border-radius:999px;border:1px solid #e5e7eb;position:relative;overflow:hidden;background:linear-gradient(90deg,#fff,#fafafa)}
    .pill svg{width:42px;height:18px}
    .pill:hover{transform:translateY(-1px)}

    .badge{padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;color:#fff;border:0;}
    .badge[data-group="å…¨éƒ¨"]{background:linear-gradient(90deg,var(--rose-501),var(--pink-501));}
    .badge[data-group="è¿œå¤§å¤©æ´¥"]{background:linear-gradient(90deg,var(--rose-500),var(--pink-500));}
    .badge[data-group="å¿ƒè¡€ç®¡ç»„"]{background:linear-gradient(90deg,var(--sky-500),var(--indigo-600));}
    .badge[data-group="æ€¥æ•‘ç»„"]{background:linear-gradient(90deg,var(--emerald-500),var(--teal-500));}
    .badge[data-group="ç½•è§ç—…ç»„"]{background:linear-gradient(90deg,var(--violet-500),var(--fuchsia-500));}
    .badge[data-group="æ™®è¯ç»„"] {background: linear-gradient(90deg, var(--amber-500), var(--yellow-400));}

    .card-desc{color:var(--muted);font-size:13px}
    .card-link{margin-top:8px;display:inline-flex;align-items:center;gap:6px;font-size:13px;font-weight:600}

    .empty{padding:36px;border:1px dashed #e5e7eb;border-radius:14px;text-align:center;color:var(--muted)}
    a{color:inherit;text-decoration:none}
    .modal{
      display: flex;
      top: auto;
      justify-content: center; /* æ°´å¹³å±…ä¸­ */
      align-items: center; /* å‚ç›´å±…ä¸­ */
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="page" id="page">
    <div class="container">
      <header class="header">
        <div>
          <div class="title">äº§å“ç›®å½•å¯¼èˆª</div>
          <div class="subtitle">å¿«é€ŸæŒ‰ç±»ç›®æµè§ˆä¸æœç´¢ï¼Œç‚¹å‡»å¡ç‰‡è·³è½¬åˆ°äº§å“é¡µ</div>
        </div>
             </header>

      <section class="toolbar">
        <div class="search">
          <span class="icon">ğŸ”</span>
          <input id="search" placeholder="æœç´¢äº§å“æˆ–ç±»ç›®â€¦" aria-label="æœç´¢äº§å“æˆ–ç±»ç›®" />
        </div>
        <div class="filters" id="filters"></div>
      </section>

      <main class="grid" id="grid"></main>
      <div class="empty" id="empty" style="display:none">æœªæ‰¾åˆ°åŒ¹é…çš„ç»“æœï¼Œè¯·æ›´æ¢å…³é”®è¯æˆ–åˆ‡æ¢åˆ†ç»„ã€‚</div>

      <footer class="subtitle" style="margin-top:16px">æç¤ºï¼šäº§å“é“¾æ¥ä¸ºç¤ºä¾‹è·¯å¾„ï¼ˆ/products/slugï¼‰ï¼Œå¯æŒ‰å®é™…è·¯ç”±è°ƒæ•´ã€‚</footer>
    </div>
    <div class="modal">
            <img src="/static/head-logo.png" width="20"/>
            <a href="https://beian.miit.gov.cn/" rel="noreferrer" target="_blank">é„‚ICPå¤‡2025141963å·</a>
    </div>
  </div>

  <script>
    // å…¨å±€å˜é‡å­˜å‚¨é…ç½®
    // ä½¿ç”¨ fetch åŠ è½½ config.json
    async function loadConfig() {
      try {
        // 1. æ·»åŠ  await è·å– response
        const response = await fetch('/config.json');

        // 2. æ£€æŸ¥å“åº”çŠ¶æ€
        if (!response.ok) {
          throw new Error(`HTTPé”™è¯¯! çŠ¶æ€ç : ${response.status}`);
        }

        // 3. æ·»åŠ  await è§£æ JSON
        const config = await response.json();
        initApp(config);
        console.log('åŠ è½½çš„é…ç½®:', config);
        // åœ¨è¿™é‡Œä½¿ç”¨é…ç½®...
        return config; // è¿”å›é…ç½®ä»¥ä¾¿å…¶ä»–ä»£ç ä½¿ç”¨

      } catch (error) {
        console.error('åŠ è½½é…ç½®å¤±è´¥:', error);
        alert(`æ— æ³•åŠ è½½é…ç½®æ–‡ä»¶: ${error.message}`);
        throw error; // é‡æ–°æŠ›å‡ºé”™è¯¯ä»¥ä¾¿å¤–éƒ¨æ•è·
      }
    }
    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¯»å–
    window.addEventListener('DOMContentLoaded', loadConfig);
    function initApp(config) {
      const DATA = config.DATA;
      const GROUPS = config.GROUPS;

      const grid = document.getElementById('grid');
      const filters = document.getElementById('filters');
      const search = document.getElementById('search');
      const empty = document.getElementById('empty');

      let activeGroup = 'å…¨éƒ¨';

      function renderFilters() {
        filters.innerHTML = '';
        GROUPS.forEach(g => {
          const btn = document.createElement('button');
          btn.className = 'chip' + (g === activeGroup ? ' active' : '');
          btn.textContent = g;
          btn.dataset.group = g;
          btn.addEventListener('click', () => {
            activeGroup = g;
            render();
            renderFilters();
          });
          filters.appendChild(btn);
        });
      }

      // ç”Ÿæˆä¸åŒç»„åˆ«çš„è¯ç‰‡ SVG
      function pillSVG(group) {
        // æ¯ç»„ä¸€å¥—å·¦å³æ¸å˜è‰²
        const palettes = {
          'è¿œå¤§å¤©æ´¥': {a1: '#f43f5e', a2: '#ec4899', b1: '#ffffff', b2: '#ffe4e6', stroke: '#fecdd3'},
          'å¿ƒè¡€ç®¡ç»„': {a1: '#0ea5e9', a2: '#4f46e5', b1: '#ffffff', b2: '#e0e7ff', stroke: '#bfdbfe'},
          'æ€¥æ•‘ç»„': {a1: '#10b981', a2: '#14b8a6', b1: '#ffffff', b2: '#e6fffb', stroke: '#a7f3d0'},
          'ç½•è§ç—…ç»„': {a1: '#8b5cf6', a2: '#d946ef', b1: '#ffffff', b2: '#f5e9ff', stroke: '#ede9fe'},
          'æ™®è¯ç»„': { a1:'#f59e0b', a2:'#facc15', b1:'#ffffff', b2:'#fffbea',  stroke:'#fde68a' },
          'é»˜è®¤': {a1: '#9ca3af', a2: '#6b7280', b1: '#ffffff', b2: '#f3f4f6', stroke: '#e5e7eb'},
        };
        const p = palettes[group] || palettes['é»˜è®¤'];
        return `
        <svg viewBox="0 0 120 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="halfA_${group}" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="${p.a1}"/>
              <stop offset="100%" stop-color="${p.a2}"/>
            </linearGradient>
            <linearGradient id="halfB_${group}" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="${p.b1}"/>
              <stop offset="100%" stop-color="${p.b2}"/>
            </linearGradient>
            <linearGradient id="shine_${group}" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="#ffffff" stop-opacity=".65"/>
              <stop offset="1" stop-color="#ffffff" stop-opacity="0"/>
            </linearGradient>
          </defs>
          <g>
            <rect x="1" y="1" rx="24" ry="24" width="118" height="46" fill="url(#halfB_${group})" stroke="${p.stroke}"/>
            <clipPath id="leftHalf_${group}"><rect x="1" y="1" rx="24" ry="24" width="59" height="46"/></clipPath>
            <rect x="1" y="1" rx="24" ry="24" width="118" height="46" fill="url(#halfA_${group})" clip-path="url(#leftHalf_${group})"/>
            <rect x="8" y="4" rx="22" ry="22" width="104" height="18" fill="url(#shine_${group})"/>
          </g>
        </svg>`;
      }

      function render() {
        const kw = search.value.trim();
        const list = DATA.filter(p => (activeGroup === 'å…¨éƒ¨' || p.group === activeGroup) && (kw === '' || p.name.includes(kw) || p.group.includes(kw)));
        grid.innerHTML = '';
        list.forEach(p => grid.appendChild(card(p)));
        empty.style.display = list.length ? 'none' : 'block';
      }

      function card(p) {
        const a = document.createElement('a');
        console.log(p)
        a.href = p.href;
        a.className = 'card';

        const leading = `<span class="pill" title="${p.group}">${pillSVG(p.group)}</span>`;

        a.innerHTML = `
        <div class="card-head">
          <div class="card-title">
            ${leading}
            <span>${p.name}</span>
          </div>
          <span class="badge" data-group="${p.group}">${p.group}</span>
        </div>
        <div class="card-desc">å•å‡»æŸ¥çœ‹ã€Œ${p.name}ã€è¯¦æƒ…ä¸èµ„æ–™ã€‚</div>
        <div class="card-link">è¿›å…¥é¡µé¢ âœ</div>
      `;
        return a;
      }

      search.addEventListener('input', render);

      renderFilters();
      render();
    }
  </script>
</body>
</html>
