<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è¯ºå¤åº·Â® è¯ç†æœºåˆ¶å¯è§†åŒ–</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px;flex-direction: column;
    }
    .app-container { width: 100%; max-width: 1600px; background: rgba(255,255,255,.95); border-radius: 24px; box-shadow: 0 20px 60px rgba(0,0,0,.3); overflow: hidden; }
    .header { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color:#fff; padding: 30px 40px; text-align: center; }
    .main-title { font-size: 36px; font-weight: 800; margin-bottom: 8px; text-shadow: 0 2px 4px rgba(0,0,0,.2); }
    .sub-title { font-size: 18px; opacity: .95; }
    .content { display:flex; height: 700px; }
    .control-panel { width: 320px; background:#f8fafc; padding:30px; border-right:1px solid #e5e7eb; overflow-y:auto; }
    .panel-title { font-size:20px; font-weight:700; color:#1f2937; margin-bottom:20px; display:flex; align-items:center; gap:10px; }
    .panel-icon { width:32px; height:32px; background:linear-gradient(135deg,#3b82f6 0%,#6366f1 100%); border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:18px; }
    .button-group { display:flex; flex-direction:column; gap:12px; margin-bottom:30px; }
    .control-btn { padding:14px 20px; background:#fff; border:2px solid #e5e7eb; border-radius:12px; font-size:15px; font-weight:500; color:#374151; cursor:pointer; transition:.3s; display:flex; align-items:center; gap:10px; }
    .control-btn:hover { background:#f9fafb; border-color:#3b82f6; transform: translateX(4px); }
    .control-btn.active { background:linear-gradient(135deg,#3b82f6 0%,#6366f1 100%); color:#fff; border-color:transparent; box-shadow:0 4px 12px rgba(59,130,246,.4); }
    .info-card { background:#fff; border-radius:12px; padding:20px; margin-top:20px; border:1px solid #e5e7eb; }
    .info-card-title { font-size:16px; font-weight:600; color:#1e40af; margin-bottom:12px; display:flex; align-items:center; gap:8px; }
    .info-card-content { font-size:14px; line-height:1.6; color:#4b5563; }
    .highlight { display:inline-block; padding:2px 6px; background:#fef3c7; border-radius:4px; color:#92400e; font-weight:600; }
    .main-canvas { flex:1; position:relative; background: radial-gradient(circle at center,#fff 0%,#f0f9ff 50%,#e0f2fe 100%); overflow:hidden; }
    .molecule-center { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:160px; height:160px; background:linear-gradient(135deg,#1e40af 0%, #6366f1 50%, #3b82f6 100%); border-radius:50%; display:flex; flex-direction:column; align-items:center; justify-content:center; color:#fff; box-shadow:0 0 0 20px rgba(59,130,246,.1),0 0 0 40px rgba(59,130,246,.05),0 10px 40px rgba(30,64,175,.3); cursor:pointer; z-index:100; animation:breathe 3s ease-in-out infinite; }
    @keyframes breathe { 0%,100%{ transform:translate(-50%,-50%) scale(1)} 50%{ transform:translate(-50%,-50%) scale(1.05)} }
    .molecule-center:hover { animation:none; transform:translate(-50%,-50%) scale(1.1); }
    .molecule-name { font-size:28px; font-weight:800; margin-bottom:4px; }
    .molecule-name-en { font-size:14px; opacity:.9; }
    .receptor-node { position:absolute; width:200px; background:#fff; border-radius:16px; padding:20px; box-shadow:0 8px 24px rgba(0,0,0,.12); cursor:pointer; transition:.3s cubic-bezier(.4,0,.2,1); z-index:50; }
    .receptor-node:hover { transform: translateY(-8px) scale(1.05); box-shadow:0 12px 32px rgba(0,0,0,.15); }
    .receptor-node.active-receptor { border:3px solid #10b981; background:linear-gradient(135deg,#fff 0%, #f0fdf4 100%); }
    .receptor-node.inactive-receptor { border:3px solid #ef4444; background:linear-gradient(135deg,#fff 0%, #fef2f2 100%); }
    .receptor-header { display:flex; align-items:center; margin-bottom:12px; }
    .receptor-icon { width:40px; height:40px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:20px; margin-right:12px; }
    .active-receptor .receptor-icon { background:linear-gradient(135deg,#10b981 0%, #34d399 100%); }
    .inactive-receptor .receptor-icon { background:linear-gradient(135deg,#ef4444 0%, #f87171 100%); }
    .receptor-info { flex:1; }
    .receptor-title { font-size:18px; font-weight:700; margin-bottom:4px; }
    .active-receptor .receptor-title { color:#059669; }
    .inactive-receptor .receptor-title { color:#dc2626; }
    .receptor-status { font-size:14px; font-weight:500; }
    .receptor-description { font-size:13px; color:#6b7280; margin-top:8px; line-height:1.5; }
    #receptor-a1a { top:100px; left:100px; }
    #receptor-a1b { top:100px; right:100px; }
    #receptor-a1d { top:50px; left:50%; transform:translateX(-50%); }
    .effect-node { position:absolute; width:180px; background:linear-gradient(135deg,#fff 0%, #f0f9ff 100%); border:2px solid #3b82f6; border-radius:16px; padding:18px; box-shadow:0 8px 24px rgba(59,130,246,.15); cursor:pointer; transition:.3s cubic-bezier(.4,0,.2,1); z-index:50; text-align:center; }
    .effect-node:hover { transform: translateY(-8px) scale(1.05); box-shadow:0 12px 32px rgba(59,130,246,.25); background:linear-gradient(135deg,#fff 0%, #dbeafe 100%); }
    .effect-icon { font-size:48px; margin-bottom:12px; }
    .effect-title { font-size:16px; font-weight:700; color:#1e40af; margin-bottom:6px; }
    .effect-result { font-size:14px; color:#059669; font-weight:600; }
    #effect-heart { bottom:120px; left:50%; transform:translateX(-50%); }
    #effect-vessel { bottom:100px; left:120px; }
    #effect-coronary { bottom:100px; right:120px; }
    .connection-path { position:absolute; inset:0; z-index:10; pointer-events:none; }
    .path-line { stroke-width:3; fill:none; stroke-linecap:round; opacity:0; transition:opacity .5s ease; }
    .path-line.visible { opacity:.7; animation: dash 2s linear infinite; }
    @keyframes dash { from { stroke-dashoffset:0 } to { stroke-dashoffset:-20 } }
    .path-active { stroke:#10b981; stroke-dasharray:10,5; }
    .path-inactive { stroke:#ef4444; stroke-dasharray:5,5; }
    .path-effect { stroke:#3b82f6; stroke-dasharray:8,4; }
    .detail-panel { width:380px; background:#fff; padding:30px; border-left:1px solid #e5e7eb; overflow-y:auto; }
    .detail-header { margin-bottom:24px; }
    .detail-title { font-size:24px; font-weight:700; color:#1f2937; margin-bottom:8px; }
    .detail-subtitle { font-size:14px; color:#6b7280; }
    .detail-content { font-size:15px; line-height:1.8; color:#374151; }
    .feature-box { background:linear-gradient(135deg,#f0f9ff 0%, #e0f2fe 100%); border-radius:12px; padding:16px; margin:20px 0; }
    .feature-title { font-size:14px; font-weight:600; color:#1e40af; margin-bottom:12px; text-transform:uppercase; letter-spacing:.5px; }
    .feature-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .feature-item { display:flex; align-items:center; gap:8px; padding:8px; background:#fff; border-radius:8px; }
    .feature-check { width:24px; height:24px; background:linear-gradient(135deg,#10b981 0%, #34d399 100%); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-size:14px; flex-shrink:0; }
    .feature-text { font-size:13px; color:#4b5563; }
    .selected { animation: pulse-shadow .6s ease; }
    @keyframes pulse-shadow { 0%{ box-shadow:0 8px 24px rgba(0,0,0,.12);} 50%{ box-shadow:0 8px 32px rgba(59,130,246,.4);} 100%{ box-shadow:0 8px 24px rgba(0,0,0,.12);} }
    .particle { position:absolute; width:4px; height:4px; background:rgba(99,102,241,.3); border-radius:50%; pointer-events:none; }
    @media (max-width: 1400px){ .control-panel{ width:280px } .detail-panel{ width:340px } }
    @media (max-width: 1200px){ .content{ flex-direction:column; height:auto } .control-panel,.detail-panel{ width:100%; border:none; border-bottom:1px solid #e5e7eb } .main-canvas{ height:600px } }
  </style>
</head>
<body>
  <div class="app-container">
    <div class="header">
      <h1 class="main-title">è¯ºå¤åº·Â® è¯ç†ä½œç”¨æœºåˆ¶å¯è§†åŒ–ï¼ˆä¿®å¤ç‰ˆï¼‰</h1>
      <p class="sub-title">é€‰æ‹©æ€§Î±1å—ä½“æ¿€åŠ¨å‰‚ Â· ä¸æ”¶ç¼©å† è„‰è¡€ç®¡ Â· å¿ƒè‚Œä¿æŠ¤</p>
    </div>
    <div class="content">
      <div class="control-panel">
        <div class="panel-title"><div class="panel-icon">ğŸ®</div><span>æ§åˆ¶ä¸­å¿ƒ</span></div>
        <div class="button-group" id="btnGroup">
          <button class="control-btn active" data-action="complete"><span>ğŸ”</span><span>å®Œæ•´æœºåˆ¶</span></button>
          <button class="control-btn" data-action="receptors"><span>ğŸ¯</span><span>å—ä½“ä½œç”¨</span></button>
          <button class="control-btn" data-action="effects"><span>ğŸ’Š</span><span>ä¸´åºŠæ•ˆåº”</span></button>
          <button class="control-btn" data-action="animate"><span>â–¶ï¸</span><span>åŠ¨ç”»æ¼”ç¤º</span></button>
        </div>
        <div class="info-card">
          <div class="info-card-title"><span>ğŸ’¡</span><span>ä½¿ç”¨è¯´æ˜</span></div>
          <div class="info-card-content">ç‚¹å‡»ä¸­å¿ƒçš„<span class="highlight">ç”²æ°§æ˜</span>æŸ¥çœ‹æ•´ä½“æœºåˆ¶ï¼Œæˆ–ç‚¹å‡»å„ä¸ªå—ä½“å’Œå™¨å®˜äº†è§£è¯¦ç»†ä½œç”¨ã€‚é€šè¿‡æŒ‰é’®åˆ‡æ¢ä¸åŒè§†å›¾æ¨¡å¼ã€‚</div>
        </div>
        <div class="info-card">
          <div class="info-card-title"><span>ğŸ”¬</span><span>æ ¸å¿ƒä¼˜åŠ¿</span></div>
          <div class="info-card-content">â€¢ ä¸æ¿€åŠ¨å† è„‰Î±1Då—ä½“<br>â€¢ ä¸æ”¶ç¼©å† è„‰è¡€ç®¡<br>â€¢ å¢åŠ å† è„‰è¡€æµ<br>â€¢ ä¸å¢åŠ å¿ƒç‡å’Œå¿ƒè‚Œæ°§è€—<br>â€¢ æ— è¯ç‰©è“„ç§¯</div>
        </div>
      </div>
      <div class="main-canvas" id="canvas">
        <svg class="connection-path" id="paths" viewBox="0 0 100 100" preserveAspectRatio="none">
          <defs>
            <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="4.5" orient="auto">
              <path d="M0,0 L0,9 L9,4.5 z" fill="#10b981" opacity="0.8"/>
            </marker>
            <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="4.5" orient="auto">
              <path d="M0,0 L0,9 L9,4.5 z" fill="#3b82f6" opacity="0.8"/>
            </marker>
          </defs>
          <path id="path-a1a" class="path-line path-active" d="M50 50 Q 30 30 20 20" marker-end="url(#arrowGreen)"/>
          <path id="path-a1b" class="path-line path-active" d="M50 50 Q 70 30 80 20" marker-end="url(#arrowGreen)"/>
          <path id="path-a1d" class="path-line path-inactive" d="M50 45 L 50 20"/>
          <path id="path-heart" class="path-line path-effect" d="M50 55 L 50 75" marker-end="url(#arrowBlue)"/>
          <path id="path-vessel" class="path-line path-effect" d="M45 55 Q 30 65 20 75" marker-end="url(#arrowBlue)"/>
          <path id="path-coronary" class="path-line path-effect" d="M55 55 Q 70 65 80 75" marker-end="url(#arrowBlue)"/>
        </svg>
        <div class="molecule-center" id="molecule"><div class="molecule-name">ç”²æ°§æ˜</div><div class="molecule-name-en">Methoxamine</div></div>
        <div id="receptor-a1a" class="receptor-node active-receptor"><div class="receptor-header"><div class="receptor-icon">âœ“</div><div class="receptor-info"><div class="receptor-title">Î±1Aå—ä½“</div><div class="receptor-status">å¼ºæ¿€åŠ¨</div></div></div><div class="receptor-description">å¿ƒè‚Œç»†èƒä¿æŠ¤<br>ç»´æŒæ­£å¸¸ç”Ÿé•¿</div></div>
        <div id="receptor-a1b" class="receptor-node active-receptor"><div class="receptor-header"><div class="receptor-icon">âœ“</div><div class="receptor-info"><div class="receptor-title">Î±1Bå—ä½“</div><div class="receptor-status">å¼ºæ¿€åŠ¨</div></div></div><div class="receptor-description">è¡€å‹è°ƒèŠ‚<br>å¤–å‘¨é˜»åŠ›å¢åŠ </div></div>
        <div id="receptor-a1d" class="receptor-node inactive-receptor"><div class="receptor-header"><div class="receptor-icon">âœ—</div><div class="receptor-info"><div class="receptor-title">Î±1Då—ä½“</div><div class="receptor-status">ä¸æ¿€åŠ¨</div></div></div><div class="receptor-description">å† è„‰ä¸æ”¶ç¼©<br>ä¿æŠ¤å† è„‰è¡€æµ</div></div>
        <div id="effect-heart" class="effect-node"><div class="effect-icon">â¤ï¸</div><div class="effect-title">å¿ƒè„</div><div class="effect-result">ä¸å¢å¿ƒç‡/æ°§è€—</div></div>
        <div id="effect-vessel" class="effect-node"><div class="effect-icon">ğŸ©¸</div><div class="effect-title">å¤–å‘¨è¡€ç®¡</div><div class="effect-result">è¡€å‹ç¨³å®šâ†‘</div></div>
        <div id="effect-coronary" class="effect-node"><div class="effect-icon">ğŸ’—</div><div class="effect-title">å† çŠ¶åŠ¨è„‰</div><div class="effect-result">è¡€æµå¢åŠ â†‘</div></div>
      </div>
      <div class="detail-panel">
        <div class="detail-header">
          <div class="detail-title" id="detailTitle">è¯ºå¤åº·ä½œç”¨æœºåˆ¶</div>
          <div class="detail-subtitle" id="detailSubtitle">é€‰æ‹©æ€§Î±1å—ä½“æ¿€åŠ¨å‰‚</div>
        </div>
        <div class="detail-content" id="detailContent">è¯ºå¤åº·(ç”²æ°§æ˜)é€šè¿‡é€‰æ‹©æ€§æ¿€åŠ¨Î±1Aå’ŒÎ±1Bå—ä½“ï¼Œç»´æŒå¾ªç¯ç¨³å®šå’Œå¿ƒè‚Œä¿æŠ¤ã€‚å…¶ç‹¬ç‰¹ä¼˜åŠ¿åœ¨äº<span class="highlight">ä¸æ¿€åŠ¨å† è„‰Î±1Då—ä½“</span>ï¼Œå› æ­¤ä¸ä¼šå¼•èµ·å† è„‰æ”¶ç¼©ï¼Œåè€Œèƒ½å¢åŠ å† è„‰è¡€æµï¼Œå¯¹å† å¿ƒç—…æ‚£è€…æ›´åŠ å®‰å…¨ã€‚</div>
        <div class="feature-box">
          <div class="feature-title">ä¸´åºŠä¼˜åŠ¿</div>
          <div class="feature-grid">
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">èµ·æ•ˆå¿«é€Ÿ 1åˆ†é’Ÿ</div></div>
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">æŒç»­15-40åˆ†é’Ÿ</div></div>
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">ä¸æ”¶ç¼©å† è„‰</div></div>
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">å¢åŠ å† è„‰è¡€æµ</div></div>
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">ä¸å¢åŠ å¿ƒç‡</div></div>
            <div class="feature-item"><div class="feature-check">âœ“</div><div class="feature-text">æ— è¯ç‰©è“„ç§¯</div></div>
          </div>
        </div>
        <div class="feature-box">
          <div class="feature-title">å¯¹æ¯”ä¼˜åŠ¿</div>
          <div class="detail-content" style="margin-top:12px;">
            <strong>vs å»æ°§è‚¾ä¸Šè…ºç´ ï¼š</strong>å† è„‰è¡€æµå¢åŠ æ›´æ˜æ˜¾<br>
            <strong>vs å»ç”²è‚¾ä¸Šè…ºç´ ï¼š</strong>ä¸å¢åŠ å¿ƒç‡å’Œå¿ƒè‚Œæ°§è€—<br>
            <strong>vs é—´ç¾Ÿèƒºï¼š</strong>æ— è¯ç‰©è“„ç§¯å’Œå¿«é€Ÿè€å—æ€§
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // â€”â€” æ•°æ®ä¸æ˜ å°„ â€”â€”
    const detailData = {
      a1a: { title: 'Î±1Aå—ä½“æ¿€åŠ¨ä½œç”¨', subtitle: 'å¿ƒè‚Œä¿æŠ¤æœºåˆ¶', content: 'ç”²æ°§æ˜é€šè¿‡<span class="highlight">å¼ºæ¿€åŠ¨Î±1Aå—ä½“</span>ï¼Œå®ç°å¿ƒè‚Œä¿æŠ¤ä½œç”¨ã€‚Î±1Aå—ä½“ä¸»è¦åˆ†å¸ƒäºå¿ƒè‚Œç»†èƒï¼Œæ¿€åŠ¨åèƒ½å¤Ÿç»´æŒå¿ƒè‚Œç»†èƒæ­£å¸¸ç”Ÿé•¿å’ŒåŠŸèƒ½ï¼Œæä¾›å¿ƒè‚Œä¿æŠ¤ï¼Œä¸å¢åŠ å¿ƒè‚Œæ°§è€—ï¼Œç‰¹åˆ«é€‚åˆå¿ƒåŠŸèƒ½ä¸å…¨æ‚£è€…ã€‚' },
      a1b: { title: 'Î±1Bå—ä½“æ¿€åŠ¨ä½œç”¨', subtitle: 'è¡€å‹è°ƒèŠ‚æœºåˆ¶', content: 'é€šè¿‡<span class="highlight">æ¿€åŠ¨Î±1Bå—ä½“</span>ï¼Œè¯ºå¤åº·å¼•èµ·å¤–å‘¨è¡€ç®¡é€‚åº¦æ”¶ç¼©ï¼Œå¢åŠ å¤–å‘¨è¡€ç®¡é˜»åŠ›ï¼Œæœ‰æ•ˆæå‡è¡€å‹ã€‚è¿™ç§ä½œç”¨å¹³ç¨³å¯æ§ï¼Œèµ·æ•ˆå¿«é€Ÿ(1åˆ†é’Ÿ)ï¼ŒæŒç»­æ—¶é—´é€‚ä¸­(15-40åˆ†é’Ÿ)ï¼Œä¾¿äºä¸´åºŠç²¾ç¡®è°ƒæ§ã€‚' },
      a1d: { title: 'Î±1Då—ä½“ä¸æ¿€åŠ¨', subtitle: 'è¯ºå¤åº·ç‹¬ç‰¹ä¼˜åŠ¿', content: 'è¿™æ˜¯è¯ºå¤åº·çš„<span class="highlight">æ ¸å¿ƒç«äº‰ä¼˜åŠ¿</span>ï¼Î±1Då—ä½“ä¸»è¦åˆ†å¸ƒäºå† çŠ¶åŠ¨è„‰ï¼Œè¯ºå¤åº·ä¸æ¿€åŠ¨æ­¤å—ä½“ï¼Œå› æ­¤<span class="highlight">ä¸ä¼šå¼•èµ·å† è„‰æ”¶ç¼©</span>ã€‚ç›¸åï¼Œé€šè¿‡å…¶ä»–æœºåˆ¶åè€Œèƒ½å¢åŠ å† è„‰è¡€æµï¼Œå¯¹å† å¿ƒç—…æ‚£è€…æ›´å®‰å…¨ã€‚' },
      heart: { title: 'å¿ƒè„ä¿æŠ¤æ•ˆåº”', subtitle: 'ç»´æŒå¿ƒåŠŸèƒ½ç¨³å®š', content: 'è¯ºå¤åº·å¯¹å¿ƒè„çš„ä¿æŠ¤ä½œç”¨è¡¨ç°åœ¨å¤šä¸ªæ–¹é¢ï¼š<span class="highlight">ä¸å¢åŠ å¿ƒç‡</span>ï¼ˆé¿å…åå°„æ€§å¿ƒåŠ¨è¿‡é€Ÿï¼‰ï¼Œ<span class="highlight">ä¸å¢åŠ å¿ƒè‚Œæ°§è€—</span>ï¼Œç»´æŒå¿ƒå†…è†œä¸å¿ƒå¤–è†œè¡€æµæ¯”å¹³è¡¡ã€‚è¿™äº›ç‰¹æ€§ä½¿å…¶æˆä¸ºå¿ƒè„æ‰‹æœ¯å’Œå¿ƒåŠŸèƒ½ä¸å…¨æ‚£è€…çš„ç†æƒ³é€‰æ‹©ã€‚' },
      vessel: { title: 'å¤–å‘¨è¡€ç®¡æ•ˆåº”', subtitle: 'ç¨³å®šæå‡è¡€å‹', content: 'é€šè¿‡æ¿€åŠ¨å¤–å‘¨è¡€ç®¡Î±1å—ä½“ï¼Œå¼•èµ·è¡€ç®¡<span class="highlight">é€‚åº¦æ”¶ç¼©</span>ï¼Œæœ‰æ•ˆæå‡è¡€å‹ã€‚ä½œç”¨å¹³ç¨³ï¼Œä¸ä¼šå¼•èµ·è¡€å‹å‰§çƒˆæ³¢åŠ¨ã€‚èµ·æ•ˆå¿«é€Ÿ(é™æ³¨1åˆ†é’Ÿèµ·æ•ˆ)ï¼Œä½œç”¨æŒç»­æ—¶é—´é€‚ä¸­ï¼Œä¾¿äºä¸´åºŠæ»´å®šè°ƒèŠ‚ã€‚' },
      coronary: { title: 'å† çŠ¶åŠ¨è„‰ä¿æŠ¤', subtitle: 'ä¸æ”¶ç¼©å† è„‰ Â· å¢åŠ å† è„‰è¡€æµ', content: 'ä¸æ¿€åŠ¨å† è„‰<span class="highlight">Î±1Då—ä½“</span>ï¼Œé¿å…å† è„‰ç—‰æŒ›ï¼›é€šè¿‡æ”¹å–„çŒæ³¨ä¸å¾®å¾ªç¯ï¼Œ<span class="highlight">å¢åŠ å† è„‰è¡€æµ</span>ï¼Œå¯¹å† å¿ƒç—…æ‚£è€…æ›´å®‰å…¨ã€‚' }
    };

    const map = {
      receptorToPath: { a1a: 'path-a1a', a1b: 'path-a1b', a1d: 'path-a1d' },
      effectToPath: { heart: 'path-heart', vessel: 'path-vessel', coronary: 'path-coronary' }
    };

    // â€”â€” å·¥å…·å‡½æ•° â€”â€”
    const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
    const $ = (sel, root = document) => root.querySelector(sel);

    function setDetail(key){
      const d = detailData[key];
      if(!d) return;
      $('#detailTitle').innerHTML = d.title;
      $('#detailSubtitle').innerHTML = d.subtitle;
      $('#detailContent').innerHTML = d.content;
    }

    function clearSelected(){
      $$('.receptor-node, .effect-node').forEach(el => el.classList.remove('selected'));
    }

    function showPaths(ids){
      // é¦–å…ˆå…¨éƒ¨éšè—
      $$('.path-line').forEach(p => p.classList.remove('visible'));
      // å†æ˜¾ç¤ºéœ€è¦çš„
      ids.forEach(id => { const el = document.getElementById(id); if(el) el.classList.add('visible'); });
    }

    function setActiveBtn(action){
      $$('#btnGroup .control-btn').forEach(b => b.classList.toggle('active', b.dataset.action === action));
    }

    // â€”â€” äº¤äº’å‡½æ•° â€”â€”
    function showComplete(){
      setActiveBtn('complete');
      showPaths(['path-a1a','path-a1b','path-a1d','path-heart','path-vessel','path-coronary']);
      clearSelected();
      setDetail('a1a');
    }

    function showReceptorsOnly(){
      setActiveBtn('receptors');
      showPaths(['path-a1a','path-a1b','path-a1d']);
      clearSelected();
      setDetail('a1b');
    }

    function showEffectsOnly(){
      setActiveBtn('effects');
      showPaths(['path-heart','path-vessel','path-coronary']);
      clearSelected();
      setDetail('heart');
    }

    function selectReceptor(key){
      setActiveBtn('');
      clearSelected();
      const node = document.getElementById(`receptor-${key}`);
      if(node){ node.classList.add('selected'); }
      showPaths([ map.receptorToPath[key] ]);
      setDetail(key);
    }

    function selectEffect(key){
      setActiveBtn('');
      clearSelected();
      const node = document.getElementById(`effect-${key}`);
      if(node){ node.classList.add('selected'); }
      showPaths([ map.effectToPath[key] ]);
      setDetail(key);
    }

    function selectAll(){ showComplete(); }

    function playAnimation(){
      setActiveBtn('animate');
      clearSelected();
      const steps = [
        () => showPaths(['path-a1a']),
        () => showPaths(['path-a1b']),
        () => showPaths(['path-a1d']),
        () => showPaths(['path-heart']),
        () => showPaths(['path-vessel']),
        () => showPaths(['path-coronary']),
        () => showPaths(['path-a1a','path-a1b','path-a1d','path-heart','path-vessel','path-coronary'])
      ];
      let i = 0;
      setDetail('a1a');
      const timer = setInterval(() => {
        steps[i++]?.();
        if(i===steps.length) clearInterval(timer);
      }, 700);
    }

    // â€”â€” åˆå§‹åŒ–ä¸äº‹ä»¶ç»‘å®š â€”â€”
    function bindEvents(){
      // å·¦ä¾§æŒ‰é’®
      $('#btnGroup').addEventListener('click', (e) => {
        const btn = e.target.closest('.control-btn');
        if(!btn) return;
        const action = btn.dataset.action;
        if(action === 'complete') return showComplete();
        if(action === 'receptors') return showReceptorsOnly();
        if(action === 'effects') return showEffectsOnly();
        if(action === 'animate') return playAnimation();
      });

      // ä¸­å¿ƒåˆ†å­
      $('#molecule').addEventListener('click', selectAll);

      // å—ä½“ä¸æ•ˆåº”èŠ‚ç‚¹
      $('#receptor-a1a').addEventListener('click', () => selectReceptor('a1a'));
      $('#receptor-a1b').addEventListener('click', () => selectReceptor('a1b'));
      $('#receptor-a1d').addEventListener('click', () => selectReceptor('a1d'));
      $('#effect-heart').addEventListener('click', () => selectEffect('heart'));
      $('#effect-vessel').addEventListener('click', () => selectEffect('vessel'));
      $('#effect-coronary').addEventListener('click', () => selectEffect('coronary'));
    }

    function init(){
      bindEvents();
      showComplete(); // é»˜è®¤å±•ç¤ºå®Œæ•´æœºåˆ¶
    }

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
